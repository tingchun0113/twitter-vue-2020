(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d9aaac8"],{"07b7":function(t,e,s){"use strict";s("d184")},"0b00":function(t,e,s){},"0ce6":function(t,e,s){"use strict";s("0b00")},"79d9":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"settingframe"}},[s("mainLeft"),s("setting"),s("newTweet")],1)},n=[],i=s("fb77"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"setting"}},[s("h1",{staticClass:"title"},[t._v("Settings")]),s("form",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit(e)}}},[s("div",{staticClass:"group"},[s("label",{attrs:{for:"account"}},[t._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.setting.account,expression:"setting.account"}],attrs:{inputmode:"account",autocomplete:"username",autofocus:"",id:"account"},domProps:{value:t.setting.account},on:{input:function(e){e.target.composing||t.$set(t.setting,"account",e.target.value)}}})]),s("div",{staticClass:"group"},[s("label",{attrs:{for:"name"}},[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.setting.name,expression:"setting.name"}],attrs:{inputmode:"name",maxlength:"25",id:"name"},domProps:{value:t.setting.name},on:{input:function(e){e.target.composing||t.$set(t.setting,"name",e.target.value)}}})]),s("div",{staticClass:"group"},[s("label",{attrs:{for:"email"}},[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.setting.email,expression:"setting.email"}],attrs:{inputmode:"email",autocomplete:"email",id:"email"},domProps:{value:t.setting.email},on:{input:function(e){e.target.composing||t.$set(t.setting,"email",e.target.value)}}})]),s("div",{staticClass:"group"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.setting.password,expression:"setting.password"}],attrs:{type:"password",autocomplete:"new-password",id:"password"},domProps:{value:t.setting.password},on:{input:function(e){e.target.composing||t.$set(t.setting,"password",e.target.value)}}})]),s("div",{staticClass:"group"},[s("label",{attrs:{for:"checkPassword"}},[t._v("Confirm password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.setting.checkPassword,expression:"setting.checkPassword"}],attrs:{type:"password",autocomplete:"new-password",id:"checkPassword"},domProps:{value:t.setting.checkPassword},on:{input:function(e){e.target.composing||t.$set(t.setting,"checkPassword",e.target.value)}}})]),s("button",{staticClass:"button",class:{isProcessing:t.isProcessing},attrs:{type:"submit",disabled:t.isProcessing}},[t._v("Submit")])])])},r=[],c=s("4cce"),u=s("7696"),l=s("2fa3"),m=s("2f62"),d={data(){return{setting:{account:"",name:"",email:"",password:"",checkPassword:""},isProcessing:!1}},created(){const{account:t,name:e,email:s}=this.currentUser;this.setting.account=t,this.setting.name=e,this.setting.email=s},methods:{async handleSubmit(){try{this.isProcessing=!0;const{data:e}=await c["a"].setAccount({userId:this.currentUser.id,setting:this.setting});if("error"===e.status)throw new Error(e.message);l["a"].fire({icon:"success",title:"Successfully updated"});try{const t=await u["a"].logIn({account:this.setting.account,password:this.setting.password}),{account:e}=t;localStorage.setItem("token",e.token),this.$store.commit("setCurrentUser",e.user)}catch(t){console.error(t.message)}this.isProcessing=!1,this.$router.go()}catch(t){this.isProcessing=!1,l["a"].fire({icon:"error",title:"Cannot update profile. Please wait for a moment"}),console.error(t.message)}}},computed:{...Object(m["b"])(["currentUser","isAuthenticated"])}},p=d,g=(s("0ce6"),s("2877")),w=Object(g["a"])(p,o,r,!1,null,null,null),v=w.exports,f=s("fb1a"),h={components:{mainLeft:i["a"],setting:v,newTweet:f["a"]}},b=h,P=(s("07b7"),Object(g["a"])(b,a,n,!1,null,null,null));e["default"]=P.exports},d184:function(t,e,s){}}]);
//# sourceMappingURL=chunk-5d9aaac8.25e67883.js.map