{"version":3,"sources":["webpack:///./src/views/setting.vue?6411","webpack:///./src/components/setting.vue?999d","webpack:///./src/views/setting.vue?ff86","webpack:///./src/components/setting.vue?0f83","webpack:///src/components/setting.vue","webpack:///./src/components/setting.vue?8286","webpack:///./src/components/setting.vue","webpack:///src/views/setting.vue","webpack:///./src/views/setting.vue?5403","webpack:///./src/views/setting.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","_v","on","$event","preventDefault","stopPropagation","handleSubmit","directives","name","rawName","value","setting","expression","domProps","target","composing","$set","class","isProcessing","account","email","password","checkPassword","currentUser","methods","data","users","setAccount","userId","id","status","Error","message","fire","icon","title","response","authorization","logIn","localStorage","setItem","token","$store","commit","user","error","console","$router","go","computed","component","components","mainLeft","newTweet"],"mappings":"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","file":"js/chunk-5d9aaac8.25e67883.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setting.vue?vue&type=style&index=0&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setting.vue?vue&type=style&index=0&lang=sass&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"settingframe\"}},[_c('mainLeft'),_c('setting'),_c('newTweet')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"setting\"}},[_c('h1',{staticClass:\"title\"},[_vm._v(\"Settings\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"group\"},[_c('label',{attrs:{\"for\":\"account\"}},[_vm._v(\"Username\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.setting.account),expression:\"setting.account\"}],attrs:{\"inputmode\":\"account\",\"autocomplete\":\"username\",\"autofocus\":\"\",\"id\":\"account\"},domProps:{\"value\":(_vm.setting.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.setting, \"account\", $event.target.value)}}})]),_c('div',{staticClass:\"group\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.setting.name),expression:\"setting.name\"}],attrs:{\"inputmode\":\"name\",\"maxlength\":\"25\",\"id\":\"name\"},domProps:{\"value\":(_vm.setting.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.setting, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"group\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.setting.email),expression:\"setting.email\"}],attrs:{\"inputmode\":\"email\",\"autocomplete\":\"email\",\"id\":\"email\"},domProps:{\"value\":(_vm.setting.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.setting, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"group\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"Password\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.setting.password),expression:\"setting.password\"}],attrs:{\"type\":\"password\",\"autocomplete\":\"new-password\",\"id\":\"password\"},domProps:{\"value\":(_vm.setting.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.setting, \"password\", $event.target.value)}}})]),_c('div',{staticClass:\"group\"},[_c('label',{attrs:{\"for\":\"checkPassword\"}},[_vm._v(\"Confirm password\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.setting.checkPassword),expression:\"setting.checkPassword\"}],attrs:{\"type\":\"password\",\"autocomplete\":\"new-password\",\"id\":\"checkPassword\"},domProps:{\"value\":(_vm.setting.checkPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.setting, \"checkPassword\", $event.target.value)}}})]),_c('button',{staticClass:\"button\",class:{isProcessing: _vm.isProcessing},attrs:{\"type\":\"submit\",\"disabled\":_vm.isProcessing}},[_vm._v(\"Submit\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"setting\">\n    <h1 class=\"title\">Settings</h1>\n    <form @submit.prevent.stop=\"handleSubmit\">\n      <div class=\"group\">\n        <label for=\"account\">Username</label>\n        <input\n          inputmode=\"account\"\n          v-model=\"setting.account\"\n          autocomplete=\"username\"\n          autofocus\n          id=\"account\">\n      </div>\n      <div class=\"group\">\n        <label for=\"name\">Name</label>\n        <input\n          inputmode=\"name\"\n          v-model=\"setting.name\"\n          maxlength=\"25\"\n          id=\"name\">\n      </div>\n      <div class=\"group\">\n        <label for=\"email\">Email</label>\n        <input\n          inputmode=\"email\"\n          v-model=\"setting.email\"\n          autocomplete=\"email\"\n          id=\"email\">\n      </div>\n      <div class=\"group\">\n        <label for=\"password\">Password</label>\n        <input\n          type=\"password\"\n          v-model=\"setting.password\"\n          autocomplete=\"new-password\"\n          id=\"password\">\n      </div>\n      <div class=\"group\">\n        <label for=\"checkPassword\">Confirm password</label>\n        <input\n          type=\"password\"\n          v-model=\"setting.checkPassword\"\n          autocomplete=\"new-password\"\n          id=\"checkPassword\">\n      </div>\n      <button\n        type=\"submit\"\n        class=\"button\"\n        :disabled=\"isProcessing\"\n        :class=\"{isProcessing}\"\n      >Submit</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport usersAPI from './../apis/users'\nimport authorizationAPI from './../apis/authorization'\nimport { Toast } from './../utils/helpers'\nimport { mapState } from 'vuex'\n\nexport default {\n  data(){\n    return{\n      setting: {\n        account: '',\n        name: '',\n        email: '',\n        password: '',\n        checkPassword: '',\n      },\n      isProcessing: false,\n    }\n  },\n  created () {\n    const { account, name, email } = this.currentUser\n    this.setting.account = account\n    this.setting.name = name\n    this.setting.email = email\n  },\n  methods: {\n    async handleSubmit () {\n      try {\n        this.isProcessing = true\n\n        const { data } = await usersAPI.setAccount({\n          userId: this.currentUser.id,\n          setting: this.setting\n        })\n\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        Toast.fire({\n          icon: 'success',\n          title: 'Successfully updated'\n        })\n\n        try {\n          const response = await authorizationAPI.logIn({\n            account: this.setting.account,\n            password: this.setting.password\n          })\n          const { account } = response\n          localStorage.setItem('token', account.token)\n          this.$store.commit('setCurrentUser', account.user)\n        } catch (error) {\n          console.error(error.message)\n        }\n\n        this.isProcessing = false\n        this.$router.go()\n      } catch (error) {\n        this.isProcessing = false\n\n        Toast.fire({\n          icon: 'error',\n          title: 'Cannot update profile. Please wait for a moment'\n        })\n        console.error(error.message)\n      }\n    },\n  },\n  computed: {\n    ...mapState(['currentUser', 'isAuthenticated'])\n  },\n}\n</script>\n\n<style lang=\"sass\">\n$font-color: rgba(#b0d7f6, .8)\n#setting\n  padding: 50px 100px\n  h1\n    font-size: 24px\n  .group\n    margin: 20px 0\n    display: flex\n    flex-flow: column nowrap\n    width: 500px\n    input\n      border:\n        style: none none solid none\n      background-color: rgba(#e0eefa,.5)\n      width: 500px\n    label\n      padding: 5px\n      background-color: rgba(#e0eefa,.5)\n  .button\n    background:\n      color: $font-color\n    border: none\n    border-radius: 20px\n    padding: 10px\n    margin: 10px\n    font-size: 18px\n    &:hover\n      cursor: pointer\n    &:active\n      background:\n        color: #a0c4e0\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./setting.vue?vue&type=template&id=19e4a2de&\"\nimport script from \"./setting.vue?vue&type=script&lang=js&\"\nexport * from \"./setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./setting.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"settingframe\">\n    <mainLeft/>\n    <setting/>\n    <newTweet/>\n  </div>\n</template>\n\n<script>\nimport mainLeft from '../components/mainLeft'\nimport setting from '../components/setting'\nimport newTweet from '../components/newTweet'\nexport default {\n  components: {\n    mainLeft,\n    setting,\n    newTweet\n  },\n}\n</script>\n\n<style lang=\"sass\">\n#settingframe\n  width: 100vw\n  height: 100vh\n  display: grid\n  grid-template:\n    columns: 20vw 1fr\n    areas: \"left setting\"\n  position: relative\n  #mainLeft\n    grid-area: left\n  #setting\n    grid-area: setting\n  #newTweet\n    position: absolute\n    top: 0\n    left: 0\n    width: 100vw\n    height: 100vh\n    grid-area: 1/1/3/3\n    background-color: rgba(grey,.8)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./setting.vue?vue&type=template&id=4816d289&\"\nimport script from \"./setting.vue?vue&type=script&lang=js&\"\nexport * from \"./setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./setting.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}